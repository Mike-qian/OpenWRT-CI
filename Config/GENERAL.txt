#科学插件调整
CONFIG_PACKAGE_luci-app-homeproxy=y
#------------------------------------------------------------
CONFIG_PACKAGE_luci-app-passwall=y
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_V2ray_Plugin=n
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Trojan_Plus=n
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Xray=n
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_V2ray_Geodata=n
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Shadowsocks_Libev_Client=n
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Shadowsocks_Libev_Server=n
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_Shadowsocks_Rust_Client=n
CONFIG_PACKAGE_luci-app-passwall_INCLUDE_ShadowsocksR_Libev_Client=n
CONFIG_PACKAGE_shadowsocks-rust-sslocal=n
CONFIG_PACKAGE_simple-obfs-client=n
CONFIG_DNSMASQ_FULL_CONNTRACK=y
#------------------------------------------------------------

#增加插件
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-app-autoreboot=y
CONFIG_PACKAGE_luci-app-gecoosac=y
CONFIG_PACKAGE_luci-app-netspeedtest=y
CONFIG_PACKAGE_luci-app-partexp=y
CONFIG_PACKAGE_luci-app-samba4=n
CONFIG_PACKAGE_luci-app-tailscale=y
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-app-wolplus=y
CONFIG_PACKAGE_luci-app-cpufreq=y
#删除插件
CONFIG_PACKAGE_luci-app-attendedsysupgrade=n
CONFIG_PACKAGE_luci-app-wol=n
#参数调整
CONFIG_CCACHE=y
CONFIG_DEVEL=y
CONFIG_TARGET_MULTI_PROFILE=y
CONFIG_TARGET_PER_DEVICE_ROOTFS=y
CONFIG_TARGET_ROOTFS_INITRAMFS=n
#内核调整
CONFIG_PACKAGE_kmod-bonding=y
CONFIG_PACKAGE_kmod-dsa=y
CONFIG_PACKAGE_kmod-fs-btrfs=y
CONFIG_PACKAGE_kmod-fuse=y
CONFIG_PACKAGE_kmod-inet-diag=y
CONFIG_PACKAGE_kmod-inet-mptcp-diag=y
CONFIG_PACKAGE_kmod-mtd-rw=y
CONFIG_PACKAGE_kmod-netlink-diag=y
CONFIG_PACKAGE_kmod-nft-arp=y
CONFIG_PACKAGE_kmod-nft-bridge=y
CONFIG_PACKAGE_kmod-nft-connlimit=y
CONFIG_PACKAGE_kmod-nft-core=y
CONFIG_PACKAGE_kmod-nft-dup-inet=y
CONFIG_PACKAGE_kmod-nft-fib=y
CONFIG_PACKAGE_kmod-nft-fullcone=y
CONFIG_PACKAGE_kmod-nft-nat=y
CONFIG_PACKAGE_kmod-nft-netdev=y
CONFIG_PACKAGE_kmod-nft-offload=y
CONFIG_PACKAGE_kmod-nft-queue=y
CONFIG_PACKAGE_kmod-nft-socket=y
CONFIG_PACKAGE_kmod-nft-tproxy=y
CONFIG_PACKAGE_kmod-nft-xfrm=y
CONFIG_PACKAGE_kmod-sound-core=y
CONFIG_PACKAGE_kmod-tun=y
# USB 相关 - 注释
CONFIG_PACKAGE_kmod-usb-core=n
CONFIG_PACKAGE_kmod-usb-dwc3=n
CONFIG_PACKAGE_kmod-usb-dwc3-qcom=n
CONFIG_PACKAGE_kmod-usb-storage=n
CONFIG_PACKAGE_kmod-usb-storage-extras=n
CONFIG_PACKAGE_kmod-usb-storage-uas=n
CONFIG_PACKAGE_kmod-usb3=n
CONFIG_PACKAGE_kmod-usb-roles=n
CONFIG_PACKAGE_kmod-usb-xhci-hcd=n
#CONFIG_PACKAGE_kmod-usb3=y
#CONFIG_PACKAGE_kmod-usb-audio=y
#CONFIG_PACKAGE_kmod-usb-core=y
#CONFIG_PACKAGE_kmod-usb-dwc3=y
#CONFIG_PACKAGE_kmod-usb-net=y
#CONFIG_PACKAGE_kmod-usb-net-cdc-eem=y
#CONFIG_PACKAGE_kmod-usb-net-cdc-ether=y
#CONFIG_PACKAGE_kmod-usb-net-cdc-mbim=y
#CONFIG_PACKAGE_kmod-usb-net-cdc-ncm=y
#CONFIG_PACKAGE_kmod-usb-net-cdc-subset=y
#CONFIG_PACKAGE_kmod-usb-net-huawei-cdc-ncm=y
#CONFIG_PACKAGE_kmod-usb-net-ipheth=y
#CONFIG_PACKAGE_kmod-usb-net-qmi-wwan=y
#CONFIG_PACKAGE_kmod-usb-net-qmi-wwan-fibocom=y
#CONFIG_PACKAGE_kmod-usb-net-qmi-wwan-quectel=y
#CONFIG_PACKAGE_kmod-usb-net-rndis=y
#CONFIG_PACKAGE_kmod-usb-net-rtl8150=y
#CONFIG_PACKAGE_kmod-usb-net-rtl8152=y
#CONFIG_PACKAGE_kmod-usb-ohci=y
#CONFIG_PACKAGE_kmod-usb-storage=y
#CONFIG_PACKAGE_kmod-usb-storage-extras=y
#CONFIG_PACKAGE_kmod-usb-storage-uas=y
#CONFIG_PACKAGE_kmod-usb-uhci=y
#CONFIG_PACKAGE_kmod-usb-xhci=y
CONFIG_PACKAGE_kmod-veth=y
CONFIG_PACKAGE_kmod-wireguard=y
#组件调整
CONFIG_PACKAGE_autocore=y
CONFIG_PACKAGE_automount=n
CONFIG_PACKAGE_blkid=y
CONFIG_PACKAGE_cfdisk=y
CONFIG_PACKAGE_cgdisk=y
CONFIG_PACKAGE_coremark=y
CONFIG_PACKAGE_cpufreq=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_dmesg=y
CONFIG_PACKAGE_fdisk=y
CONFIG_PACKAGE_gdisk=y
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_iperf3=y
CONFIG_PACKAGE_ip-full=y
# USB 相关 - 注释
#CONFIG_PACKAGE_libimobiledevice=y
CONFIG_PACKAGE_lsblk=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-compat=y
CONFIG_PACKAGE_luci-lib-base=y
CONFIG_PACKAGE_luci-lib-ipkg=y
CONFIG_PACKAGE_luci-lua-runtime=y
CONFIG_PACKAGE_luci-proto-relay=y
# SD/MMC 卡相关 - 注释
#CONFIG_PACKAGE_mmc-utils=y
CONFIG_PACKAGE_nand-utils=n
CONFIG_PACKAGE_openssh-keygen=y
CONFIG_PACKAGE_openssh-sftp-server=y
CONFIG_PACKAGE_openssl-util=y
CONFIG_PACKAGE_proto-bonding=y
CONFIG_PACKAGE_sfdisk=y
CONFIG_PACKAGE_sgdisk=y
# USB 相关 - 注释
#CONFIG_PACKAGE_usbmuxd=y
#CONFIG_PACKAGE_usbutils=y
#额外的
#CONFIG_PACKAGE_kmod-tls=y
#CONFIG_PACKAGE_kmod-tcp-bbr=y
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_KERNEL_DEBUG_KERNEL=n
CONFIG_KERNEL_DEBUG_INFO=n
CONFIG_KERNEL_DEBUG_INFO_REDUCED=n
CONFIG_KERNEL_DEBUG_FS=n
#-----------------------------------
#CONFIG_PACKAGE_uhttpd=n
#CONFIG_PACKAGE_uhttpd-mod-ubus=n
#CONFIG_PACKAGE_uhttpd-mod-lua=n
#CONFIG_PACKAGE_uhttpd-mod-tls=n
#添加Nginx
#CONFIG_PACKAGE_uwsgi=y
#CONFIG_PACKAGE_nginx=y
#CONFIG_PACKAGE_nginx-ssl=y
#CONFIG_PACKAGE_nginx-mod-ubus=y
#CONFIG_PACKAGE_nginx-mod-luci=y
#CONFIG_PACKAGE_nginx-ssl-util=y
#-----------------------------------
#CONFIG_USE_APK=n
#CONFIG_PACKAGE_opkg=y
CONFIG_USE_LTO=y
CONFIG_USE_LTO_THIN=y
CONFIG_USE_MOLD=y
CONFIG_TARGET_OPTIONS=y
CONFIG_USE_GC_SECTIONS=y
CONFIG_OPENSSL_PREFER_CHACHA_OVER_GCM=n
CONFIG_OPENSSL_WITH_ARMV8_CRYPTO=y
#CONFIG_TARGET_OPTIMIZATION="-O2 -pipe -mcpu=cortex-a53+crypto+crc -mtune=cortex-a53"
#CONFIG_DEFAULT_TARGET_OPTIMIZATION="-Os -pipe -mcpu=cortex-a53"
#CONFIG_TARGET_OPTIMIZATION="-O3 -pipe -mcpu=cortex-a53+crypto+crc -U_FORTIFY_SOURCE -fstack-protector-strong -falign-functions=16"
#CONFIG_TARGET_OPTIMIZATION="-O3 -pipe -mcpu=cortex-a53+crypto+crc -falign-functions=32 -fno-stack-protector -U_FORTIFY_SOURCE -ffast-math -fno-common"

#CONFIG_TARGET_OPTIMIZATION="-O3 -pipe -mcpu=cortex-a53+crypto+crc -mtune=cortex-a53 -fno-fat-lto-objects -fuse-linker-plugin -funroll-loops -falign-functions=32 -falign-jumps=32 -falign-loops=32 -ffunction-sections -fdata-sections -fno-caller-saves -fno-plt -D__QCA_NSS__=1 -D__QCA_NSS_CRYPTO__=1 -fgcse-lm -fgcse-sm -fmodulo-sched -fomit-frame-pointer"

#CONFIG_TARGET_OPTIMIZATION="-O3 -pipe -march=armv8-a+crc+crypto+simd -mtune=cortex-a53 -fomit-frame-pointer -fno-caller-saves -fno-plt -fstack-protector-strong -ffast-math -fuse-linker-plugin -funroll-loops -frename-registers -Wno-error=maybe-uninitialized"

CONFIG_TARGET_OPTIMIZATION="-O3 -pipe -march=armv8-a+crc+crypto+simd -mtune=cortex-a53 -fomit-frame-pointer -fno-plt -fuse-linker-plugin -funroll-loops -frename-registers -DUSE_PTHREAD -mno-outline-atomics"

#CONFIG_TARGET_OPTIMIZATION="-O3 -pipe -mcpu=cortex-a53+crypto+crc -mtune=cortex-a53 -fomit-frame-pointer -falign-functions=32 -ffunction-sections -fdata-sections -D__QCA_NSS__=1 -D__QCA_NSS_CRYPTO__=1 -fgcse-lm -fno-caller-saves -fno-plt -fivopts"
#CONFIG_DEFAULT_TARGET_OPTIMIZATION="-O2 -pipe -mcpu=cortex-a53+crypto+crc -mtune=cortex-a53 -falign-functions=16 -falign-loops=16"
#---------------------------------------------
# ARM64 基础加速 (必选)
CONFIG_PACKAGE_kmod-crypto-aes-arm64=y
CONFIG_PACKAGE_kmod-crypto-aes-arm64-ce=y
CONFIG_PACKAGE_kmod-crypto-aes-arm64-cbc=y
CONFIG_PACKAGE_kmod-crypto-aes-arm64-ctr=y
CONFIG_PACKAGE_kmod-crypto-aes-arm64-ecb=y
CONFIG_PACKAGE_kmod-crypto-aes-arm64-gcm=y
CONFIG_PACKAGE_kmod-crypto-aes-arm64-xts=y
# 哈希算法加速 (必选)
CONFIG_PACKAGE_kmod-crypto-sha1-arm64=y
CONFIG_PACKAGE_kmod-crypto-sha256-arm64=y
CONFIG_PACKAGE_kmod-crypto-sha512-arm64=y
CONFIG_PACKAGE_kmod-crypto-sha2-arm64-ce=y
CONFIG_PACKAGE_kmod-crypto-sha3-arm64=y
CONFIG_PACKAGE_kmod-crypto-ghash-arm64=y
# 现代加密算法 (推荐)
CONFIG_PACKAGE_kmod-crypto-chacha20-arm64=y
CONFIG_PACKAGE_kmod-crypto-poly1305-arm64=y
CONFIG_PACKAGE_kmod-crypto-chacha20poly1305-arm64=y
# 校验算法 (提升网络包处理效率)
CONFIG_PACKAGE_kmod-crypto-crc32-arm64=y
CONFIG_PACKAGE_kmod-crypto-crc32c-arm64=y
CONFIG_PACKAGE_kmod-crypto-crc64-arm64=y
# NEON 矢量优化 (提升压缩性能)
CONFIG_PACKAGE_kmod-crypto-neon=y
CONFIG_PACKAGE_kmod-crypto-lzo-neon=y
CONFIG_PACKAGE_kmod-crypto-zstd-neon=y
# 高通 QCE 硬件引擎专用 (IPQ8071A 灵魂所在)
CONFIG_PACKAGE_kmod-crypto-hw=y
CONFIG_PACKAGE_kmod-crypto-hw-qcom=y
CONFIG_PACKAGE_kmod-crypto-dev-qce=y
CONFIG_PACKAGE_kmod-crypto-dev-qce-aes=y
CONFIG_PACKAGE_kmod-crypto-dev-qce-sha=y
CONFIG_PACKAGE_kmod-crypto-dev-qce-chacha20poly1305=y
# 内核级驱动选项 (确保 QCE 正常工作)
CONFIG_KERNEL_CRYPTO_DEV_QCE=y
CONFIG_KERNEL_CRYPTO_DEV_QCE_SKCIPHER=y
CONFIG_KERNEL_CRYPTO_DEV_QCE_AES=y
CONFIG_KERNEL_CRYPTO_DEV_QCE_SHA=y
#---------------------------------------------

#---------------------------------------------
#CONFIG_KERNEL_PREEMPT_DYNAMIC=y
CONFIG_PACKAGE_kmod-zram=y
CONFIG_PACKAGE_zram-swap=y
CONFIG_PACKAGE_zram-swap_SIZE=128
CONFIG_KERNEL_ZRAM_BACKEND_LZ4=y
#CONFIG_NSS_DRV_IPV4_REASM_ENABLE=y
#CONFIG_NSS_DRV_IPV6_REASM_ENABLE=y
#CONFIG_KERNEL_NET_SCH_FQ_CODEL=y
#CONFIG_KERNEL_NET_SCH_FQ_CODEL_CE_THRESHOLD=100
#CONFIG_KERNEL_TCP_FASTOPEN=y
#CONFIG_KERNEL_TCP_FASTOPEN_KEYS=4
CONFIG_KERNEL_CPU_FREQ_GOV_PERFORMANCE=y
#CONFIG_TARGET_SQUASHFS_BLOCK_SIZE=131072
#CONFIG_KERNEL_FS_EXT4_DIRECT_IO=y
#---------------------------------------------
CONFIG_ATH11K_HW_CRYPTO=y
CONFIG_MAC80211_NSS_REDIRECT=y
#CONFIG_ATH11K_MEM_PROFILE_1G=y
# 内存配置（必须匹配硬件，无妥协空间）
CONFIG_IPQ_MEM_PROFILE_1024=n
CONFIG_IPQ_MEM_PROFILE_512=y
CONFIG_KERNEL_IPQ_MEM_PROFILE=512
# 网络缓冲区配置（性能优先，适配大流量/低延迟场景）
CONFIG_SKB_RECYCLE_SIZE_2304=y
CONFIG_SKB_RECYCLE_SIZE_1856=n
CONFIG_KERNEL_SKB_RECYCLE_SIZE=2304
#---------------------------------------------
CONFIG_PACKAGE_kmod-nss-ifb=y
CONFIG_PACKAGE_kmod-qca-nss-crypto-hw=y
CONFIG_PACKAGE_kmod-qca-nss-drv-udp-st=y
CONFIG_PACKAGE_kmod-qca-nss-drv-ipv4-reasm=y
CONFIG_PACKAGE_kmod-qca-nss-drv-ipv6-reasm=y
CONFIG_PACKAGE_kmod-qca-nss-ecm-ipv6=y
CONFIG_PACKAGE_kmod-qca-nss-ifb=y
CONFIG_PACKAGE_kmod-qca-nss-macsec=y
CONFIG_PACKAGE_kmod-qca-nss-nat6=y
CONFIG_PACKAGE_kmod-qca-nss-pptp=y
CONFIG_PACKAGE_kmod-qca-nss-vlan-filter=y
CONFIG_ATH11K_NSS_MESH_SUPPORT=y
#-----------------------------------------------------------
#CONFIG_PACKAGE_kmod-qca-nss-drv-tls=n
#CONFIG_PACKAGE_kmod-qca-nss-drv-dtls=n
#CONFIG_PACKAGE_kmod-qca-nss-drv-ipsec=n
#CONFIG_PACKAGE_ppp-mod-pppoe=n
CONFIG_PACKAGE_kmod-vxlan=y
CONFIG_PACKAGE_kmod-qca-nss-drv-pvxlan=y
#CONFIG_PACKAGE_sqm-scripts=n
#CONFIG_PACKAGE_kmod-gre=n
#CONFIG_PACKAGE_kmod-l2tp=n
CONFIG_PACKAGE_kmod-qca-nss-drv-netlink=y
CONFIG_PACKAGE_nss-utils=y
CONFIG_NSS_DRV_C2C_ENABLE=y
CONFIG_NSS_DRV_IPV4_REASM_ENABLE=y
CONFIG_NSS_DRV_IPV6_REASM_ENABLE=y
CONFIG_NSS_DRV_LSO_RX_ENABLE=y
CONFIG_NSS_DRV_UDP_ST_ENABLE=y
CONFIG_PACKAGE_kmod-qca-nss-crypto=y
CONFIG_PACKAGE_kmod-qca-nss-cfi-cryptoapi=y
CONFIG_PACKAGE_libopenssl-devcrypto=y
CONFIG_NSS_ECM_ENABLE=y
CONFIG_NSS_ECM_TCP_ENABLE=y
CONFIG_NSS_ECM_UDP_ENABLE=y
#CONFIG_PACKAGE_nssinfo=y
CONFIG_PACKAGE_kmod-qca-nss-cfi=y
CONFIG_DEFAULT_kmod-qca-nss-cfi-ocf=y
CONFIG_DEFAULT_kmod-qca-edma=y
CONFIG_PACKAGE_kmod-qca-mcs=y
#CONFIG_LUA_ECO_OPENSSL=y
CONFIG_PACKAGE_kmod-crypto-aes=y
CONFIG_PACKAGE_kmod-crypto-sha256=y

CONFIG_PACKAGE_MAC80211_NSS_REDIRECT=y
CONFIG_NSS_DRV_TLS_ENABLE=y
CONFIG_NSS_DRV_GRE_TUNNEL_ENABLE=y
CONFIG_NSS_DRV_QRFS_ENABLE=y
#-----------------------------------------------------------
#mesh组网
#CONFIG_PACKAGE_wpad-openssl=n
#CONFIG_PACKAGE_wpad-mesh-openssl=y
#CONFIG_PACKAGE_mesh11sd=y

CONFIG_USB_SUPPORT=n
CONFIG_EMMC_SUPPORT=n

#CONFIG_TOOLCHAINOPTS=y
#CONFIG_BINUTILS_USE_VERSION_2_44=n
#CONFIG_BINUTILS_USE_VERSION_2_45=y
#CONFIG_BINUTILS_VERSION="2.45"
#CONFIG_BINUTILS_VERSION_2_45=y
#CONFIG_GCC_USE_VERSION_14=n
#CONFIG_GCC_USE_VERSION_15=y
#CONFIG_GCC_VERSION="15.2.0"
#CONFIG_GCC_VERSION_15=y

CONFIG_PACKAGE_libopenssl-afalg=y
CONFIG_PACKAGE_libopenssl-afalg_sync=y

CONFIG_HAVE_EFFICIENT_UNALIGNED_ACCESS=y
CONFIG_ARM64_LSE_ATOMICS=y
CONFIG_TRANSPARENT_HUGEPAGE=n
CONFIG_ARCH_HAS_PREFETCH_L32=y
CONFIG_PREEMPT=n
CONFIG_TARGET_OPTIMIZE_FOR_CPU=y
CONFIG_TARGET_MULTI_PROFILE=y

#CONFIG_KERNEL_SKB_RECYCLER_PREALLOC=y
#CONFIG_KERNEL_ALLOC_SKB_PAGE_FRAG_DISABLE=y

CONFIG_OPENSSL_WITH_DTLS=y
#CONFIG_PACKAGE_libustream-mbedtls=y

#CONFIG_PACKAGE_kmod-qca-nss-drv-rmnet=y
CONFIG_PACKAGE_bridge=y
CONFIG_PACKAGE_packet-steering=y
CONFIG_PACKAGE_hostapd-utils=n
CONFIG_PACKAGE_wpa-supplicant-mesh-openssl=n
CONFIG_PACKAGE_kmod-bridge-vlan=n

CONFIG_PACKAGE_kmod-nft-ipv6=y
CONFIG_PACKAGE_kmod-nft-nat6=y

# Hardening build options
CONFIG_PKG_CC_STACKPROTECTOR_REGULAR=n
CONFIG_PKG_CC_STACKPROTECTOR_NONE=y
CONFIG_KERNEL_CC_STACKPROTECTOR_REGULAR=n
CONFIG_KERNEL_CC_STACKPROTECTOR_NONE=y
CONFIG_KERNEL_STACKPROTECTOR=n
CONFIG_KERNEL_STACKPROTECTOR_NONE=y
CONFIG_PKG_ASLR_PIE_REGULAR=n
CONFIG_PKG_ASLR_PIE_NONE=y
#CONFIG_PKG_FORTIFY_SOURCE_1=n
#CONFIG_PKG_FORTIFY_SOURCE_NONE=y
CONFIG_USE_SECCOMP=n
CONFIG_PKG_RELRO_FULL=n
CONFIG_PKG_RELRO_NONE=y
